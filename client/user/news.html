<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>CoNews - Notícias</title>
    <link rel="shortcut icon" href="../images/conews_logo.png">

    <!-- CDN scripts -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- CSS files -->
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/news.css">
</head>
<body>
    <!-- Main header -->
    <header>
        <div class="header-items">
            <!-- LOGO -->
            <div id="header-logo">
                <a href="index.html">
                    <img src="../images/conews_logo.png" alt="Logo da CoNews">
                </a>
            </div>

            <!-- Options -->
            <div class="header-btn">
                <a href="news.html">Notícias</a>
            </div>
            <div class="header-btn">
                <a href="symptoms.html">Sintomas</a>
            </div>
            <div class="header-btn">
                <a href="transmission.html">Formas de transmissão</a>
            </div>
            <div class="header-btn">
                <a href="quiz.html">Estou com covid-19?</a>
            </div>
            <div class="header-btn">
                <a href="help.html">Ajuda</a>
            </div> 
        </div>
    </header>

    <!-- Page content -->
    <main id="app" >
        <div class="page-slogan">
            <h1>Notícias</h1>
        </div>
        <div class="page-content">
            <div class="search-state">
                <h3>Estado selecionado:</h3>
                <select class="ls-select" v-model="selectedState" @click="searchNews">
                    <option selected>Selecione um estado</option>
                    <option>AC</option>
                    <option>AL</option>
                    <option>AM</option>
                    <option>BA</option>
                    <option>CE</option>
                    <option>DF</option>
                    <option>ES</option>
                    <option>GO</option>
                    <option>MA</option>
                    <option>MT</option>
                    <option>MS</option>
                    <option>MG</option>
                    <option>PA</option>
                    <option>PB</option>
                    <option>PR</option>
                    <option>PE</option>
                    <option>RJ</option>
                    <option>RN</option>
                    <option>RS</option>
                    <option>RO</option>
                    <option>RR</option>
                    <option>SC</option>
                    <option>SP</option>
                    <option>SE</option>
                    <option>TO</option>
                </select>
            </div>
            <div class="display-news">
                <!-- News -->
                <div class="news-content" v-for="news in findedNews" v-if="success">
                    <a :href="news.link" target="blank">
                    <div class="news-img">
                       <img :src="news.image.url" alt="">
                    </div>
                    <div class="news-info">
                        <h6>Data: {{ news.date }}</h6>
                        <h4>{{ news.title }}</h4>
                    </div>
                </a>
                </div>
                
                <div v-if="selectedState === 'Selecione um estado' ||
                selectedState === ''" class="no-state">
                    <h1>Nenhum estado selecionado</h1>
                </div>
                <div v-else-if="!success" class="no-news">
                    <h1>Nenhuma notícia encontrada para {{selectedState}}</h1>
                </div>
            </div>
        </div>
    </main>


    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/vue" defer></script>
    <script src="src/news.js" defer></script>
</body>
</html>